<div class="login-container">
  <mat-card>
    <mat-card-header class="login-header">
      <mat-card-title>Log in</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form class="login-form" [formGroup]="loginForm" (ngSubmit)="login()">
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="Email" />
        </mat-form-field>
        <span class="form-text" *ngIf="isValid('email')" mat-warn>
          You must enter a valid email format
        </span>

        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input
            matInput
            formControlName="password"
            type="password"
            placeholder="Password"
          />
        </mat-form-field>
        <span class="form-text" *ngIf="isValid('password')" mat-warn>
          Password must be at least 3 characters
        </span>

        <button
          *ngIf="!isLoading"
          mat-raised-button
          color="primary"
          type="submit"
          class="submit-button"
        >
          Login
        </button>
        <div class="spinner-container" *ngIf="isLoading">
          <mat-spinner diameter="30"></mat-spinner>
        </div>
      </form>
      <div class="register-prompt">
        <span>Not registered yet? <a (click)="goToRegister()">Sign up</a></span>
      </div>
    </mat-card-content>
  </mat-card>
</div>
